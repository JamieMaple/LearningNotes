# 读书笔记

> 希望自己废弃使用上下左右和回退

## 技巧1：`.`操作符

重复上次上次修改

### 几个新学到的操作

1. `>G` 增加当前行到文档末未出单缩进层级

2. 在插入模式中记录一些按键，会重复所有按键操作

3. `.` 是一个微小的宏

## 技巧2：不要自我重复

1. 比如说添加 `;` 可以使用这个 `.`

2. `A` + `;` + ';'

3. 对于大量的行重复操作只需选中指定行然后 `normal .`

## 技巧3：以退为进

1. `f` 查找当前行某字符, f{char}

2. `;` 重复上次查找的字符

3. `,` 与 `;` 相反操作

## 技巧4：执行、重复、回退

1. 回退操作 `u`

2. `F` 查找当前行上一个操作符，F{char}，重复回退同 `f`

3. 查找下一个匹配项 `/patten`，重复 `n`, 回退 `N`

4. 查找上一个匹配项 `?patten`, 重复回退同上

5. 执行替换 `:s/target/replacement`, 重复 `&`, 回退 `u`

6. 执行一系列修改 `qx{change}q`，重复 `@x`, 回退 `u`

## 技巧5：查找并手动替换

1. `*` 向后查找当前光标下的单词

## 技巧6：`.` 范式

前面几个技巧有共通的地方：一个键移动，另一个键执行


## 技巧7：停顿时请移开画笔

不使用的（停顿的）时候使用普通模式

## 技巧8：把撤销单元切成块


由于 vim 把 `i{text}` 当做了一次修改，所以可以在适当时候推出 insert mode

## 技巧9：构造可重复的修改

`daw` -> delete a word

## 技巧10：用次数做简单的算术运算

`ctrl - a` 增加，前面可带上数字

`ctrl - c` 减少，前面可带上数字

## 技巧11：重复优先次数

比起 `dnw` 以及 `ndw`，应该更倾向于 `dw...`

以后没有特殊情况，全都是用 `dw...`


## 技巧12：双剑合璧，天下无敌

公式：operator{motion} 

比如：`dl`, `daw`, `dap`,

可以配对组合使用，

当一个 operator 被连续调用两次时候，作用于当前行


# 插入模式技巧

## 技巧13：在插入模式中即时更正错误

1. `Ctrl - h` 删除前一个字符

2. `Ctrl - w` 删除前一个单词

3. `Ctrl - u` 删除至行首


## 技巧14：返回普通模式

1. Esc

2. Ctrl - [

3. Ctrl - o 插入-普通模式

4. `zz` 可以刷新屏幕，可以配合上条使用

## 技巧15：不离开插入模式，粘贴寄存器的文本

1. `yt{char}` 复制内容到专用寄存器中

2.  Ctrl - r + 0 把刚才复制的文本粘贴到光标所在位置

3. Ctrl - r {register} 粘贴寄存器的内容

4. Ctrl - r + Ctrl - p {register} 粘贴文本并修正不必要的缩进

## 技巧16：插入模式中做运算

1. Ctrl - r {运算内容} 可以做运算

## 技巧17：用字符编码插入非常用字符

1. Ctrl - v {code} 可以插入字符，同时也能够插入 Unicode 字符

2. 如果上述操作后续跟着非数字键，会插入按键本身代表的字符

3. Ctrl - k {char1}{char2} 以二合字母插入非常用字符

## 技巧18：用二和字母插入非常用字符

1. Ctrl - k {char1}{char2}

2. 常用分数 ½ 等可用分子分母数字表示

## 技巧19：用替换模式替换已有文本

1. R 从普通模式进入替换模式

2. gR 进入虚拟替换模式，会把 tab 当做一串空格处理

3. r{char} 和 gr{char} 允许覆盖一个字符然后回到普通模式, 后者是虚拟替换模式


## 技巧20：可视模式

1. `viw` 高亮选择某个词

2. `c` 删除词然后进入插入模式

## 技巧21：选择高亮选区

1. `v` 进入字符可视化模式

2. `V` 进入面向行的可视化模式

3. Ctrl - v 进入面向列块的可视化模式

4. `o` 调整可切换高亮区的左右活动端

5. `gv` 重选上次的高亮选区

## 技巧22：重复执行面向行的可视化命令

配合使用 `.` 操作符

## 技巧23：操作符命令优先可视命令

1. `U` 将所选文字转成大写

2. `vit` visually select inside the tag

3. `U` 在可视化模式下大写选中的文本，同下 `gU{motion}`

4. `gU` 让 text 大写

## 技巧24：面向列块的可视化模式编辑表格数据

1. `gv` 重新选区上次选区的分区

## 技巧25：修改列文本

1. `e` 表示的是到单词 end

2. `I` 表示光标至于行首并进入插入模式

## 技巧26：在长短不一的高亮块后添加文字

在 vim 中列块可视模式下，键入$进入插入模式，在插入模式期间输入内容只会作用在当前行，当返回普通模式时，就会将修改扩散到其余选中的行。

## 技巧27：认识命令行模式

1. `esc` 键可以任何时候从命令模式切换回普通模式

2. 出于历史原因，命令模式中的命令又被称为 Ex 命令

3. 按 `/` 或者 `Ctrl - r + =` 访问表达式寄存器都会激活命令模式

4. 读写命令 `:edit` `:write` 

5. 创建新标签页：`tabnew`

6. 分割窗口：`:split`

7. 操作参数列表：`:prev/next`

8. 操作缓冲区列表：`:bprev/bnext`

9. .... 太多了


## 技巧28：在一行或多个连续行上执行命令

1. :print :p 打印当前行，可以搭配数字或范围 {num}, {start, end}

  比如：: 2,3p, :.,$p, :%p

  其中 . 代表当前行，%代表当前文件中的所有行

  同时，支持 pattern

  数字可以为 0，作用可以对文件首部进行插入

2. :$ 跳到最后一行

3. `{num}G` 跳到某一行

4. :move{address} :copy{address} 移动或者删除操作

## 技巧29：使用 `:t` 和 `:m` 复制和移动行

1. :copy 用法 [range]copy {address}，其简写形式为 :co

2. 被可视模式选中的 `'<,'>` 代表了高亮选取，所以可以对他进行一些操作

3. dGp === :'<,'>m$

## 技巧30：在指定范围上执行普通模式命令

1. normal 代表普通模式下进行操作，后面可以跟常用的命令

2. 上述配合 VG 等使用比较好

